/* =====================================================================================================================
 * SpringBoot应用程序构建逻辑 (Distribution)
 * =================================================================================================================== */
plugins {
	id 'distribution'
}

distributions {
	named('main') {
		distributionBaseName = project.name
		contents {
			from(tasks.bootJar) {
				into('lib')
				rename { String fileName ->
					fileName.replace("-${project.version}", '')
				}
			}

			from("$rootDir") {
				include('README.*')
			}
		}
	}
}

tasks.named('distZip') { task ->
	enabled = false
}

tasks.named('distTar') { task ->
	enabled = false
}
